# lab3
Задание 1
Программа выделяет память с помощью `new` в бесконечном цикле и не освобождает её, что приводит к утечке памяти.
`createMemoryLeak()` создаёт массив `int` внутри цикла, но не вызывает `delete[]`.  
Показал, как ручное управление может привести к утечкам памяти.

Задание 2
Переписал программу из задания 1 с использованием `std::unique_ptr`, который сам освобождает ресурсы. Также создал класс `File`, использующий RAII для автоматического закрытия файла.
`useUniquePtr` выделяет массив с `std::unique_ptr<int[]>`.
`FileManager` открывает файл в конструкторе и закрывает в деструкторе.
Продемонстрировал автоматическое управление ресурсами через RAII и `unique_ptr`.

Задание 3
Реализовал сценарий, где несколько объектов совместно используют один и тот же ресурс.
Cоздается `std::shared_ptr` и копируется.
Выводится значение счётчика ссылок через `.use_count()`.
Показал, как `shared_ptr` управляет временем жизни объекта через счётчик ссылок.

Задание 4
Наблюдение за объектом, которым владеет `shared_ptr`, без продления его времени жизни.
Observer хранит `std::weak_ptr<Subject>`, поэтому не влияет на время жизни `Subject`.
С помощью `.lock()` мы преобразуем `weak_ptr` в `shared_ptr`, если объект еще жив.
После `.reset()` `Subject` удаляется, и наблюдатель узнает, что объект уничтожен.
